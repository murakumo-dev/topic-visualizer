# Topic Visualizer

リアルタイムで複数ユーザーが話題を泡として飛ばせるビジュアライザーWebアプリです。

## ファイル構成

```
topic-visualizer/
├── .gitignore
├── package.json
├── server.js
├── index.html
└── README.md
```

---

## セットアップ

### 1. Node.js をインストールする

1. **https://nodejs.org** を開く
2. **「LTS」** の緑のボタンからインストーラーをダウンロード
3. `.msi` ファイルを実行してインストール（すべて「Next」でOK）

確認：

```bash
node -v
```

`v22.x.x` のようなバージョンが表示されれば成功です。

---

### 2. リポジトリをクローンする

```bash
git clone https://github.com/murakumo-dev/topic-visualizer.git
cd topic-visualizer
```

---

### 3. 依存関係をインストールする

```bash
npm install
```

---

### 4. サーバーを起動する

```bash
npm start
```

```
Topic Visualizer running at http://localhost:3000
```

と表示されれば起動成功です。ブラウザで **http://localhost:3000** を開いてください。

停止するときは `Ctrl + C` を押してください。

---

## ネットワークへの公開

### 同じ Wi-Fi 内のデバイスからアクセスする

**① 自分のIPアドレスを調べる**

```bash
ipconfig
```

`IPv4 アドレス`（例：`192.168.1.5`）をメモしてください。

**② Windowsファイアウォールでポート 3000 を開ける**

1. スタートメニューで「**Windows Defender ファイアウォール**」を開く
2. 「**詳細設定**」→「**受信の規則**」→「**新しい規則**」
3. 「**ポート**」→ TCP・`3000` を入力 →「**接続を許可する**」
4. 名前を `topic-visualizer` として完了

**③ アクセスする**

同じ Wi-Fi 内の端末のブラウザで：

```
http://192.168.1.5:3000
```

（`192.168.1.5` は自分のIPアドレスに置き換えてください）

---

### インターネット全体に公開する（Railway）

1. **https://railway.app** にアクセスし、GitHubアカウントでログイン
2. 「**New Project**」→「**Deploy from GitHub repo**」
3. `topic-visualizer` リポジトリを選択
4. デプロイ完了後、発行された URL を共有する

---

## 使い方

| 操作 | 内容 |
|---|---|
| テキストを入力して Enter または ➤ ボタン | 泡を飛ばす |
| 右上の 👁 ボタン | 見るモード（UIを非表示にして泡だけ表示） |
| 見るモード中に ✏️ ボタン | 入力モードに戻る |
| 右上の 🕐 ボタン | 履歴パネルを開く（過去の泡を時刻付きで確認） |

- 左上に接続中のユーザー数がリアルタイムで表示されます
- 複数人が接続すると、お互いの泡が全員の画面に流れます
- 履歴パネルを閉じている間に新しい泡が届くとバッジで件数が表示されます

---

## コマンドまとめ

| やること | コマンド |
|---|---|
| 依存関係のインストール（初回のみ） | `npm install` |
| サーバーの起動 | `npm start` |
| サーバーの停止 | `Ctrl + C` |

> **ヒント：** サーバー稼働中にパソコンがスリープすると接続が切れます。「電源とスリープの設定」でスリープを**オフ**にしておくことをおすすめします。
